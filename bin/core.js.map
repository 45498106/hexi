{"version":3,"sources":["../src/core.js"],"names":[],"mappings":"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","file":"core.js","sourcesContent":["//IMPORTANT: Make sure to load Pixi and the modules before instantiating Hexi!\n\n//The high level `hexi` function lets you quickly create an instance\n//of Hexi using sensible defaults\nfunction hexi(width, height, setup, thingsToLoad = undefined, load = undefined) {\n  let hexi = new Hexi({\n\n    //Required options:\n    width: width,                 //Width, in pixels\n    height: height,               //Height, in pixels\n    setup: setup,                 //Function to run when Hexi starts\n\n    //Optional options:\n    assets: thingsToLoad,         //Array of assets that should be loaded\n    load: load,                   //Function to run while Hexi is loading asssets\n    /*\n    renderer: \"auto\",             //\"auto\", \"canvas\" or \"webgl\"\n    backgroundColor: 0xCCCCCC,    //Hexadecimal color code\n    border: \"1px dashed black\",   //CSS border string\n    scaleToWindow: true,          //Boolean\n    scaleBorderColor: \"gray\",     //Color string\n    fps: 30,                      //The frames per second the logic loop should run at\n\n    //An an object of Boolean (true/false) properties that describe which sprite\n    //properties should  be smoothly animated. These can be any of 5\n    //properties: `position`, `rotation`, `size`, `scale` or `alpha`.\n    //(Position and rotation are on by default, unless you set Hexi's\n    //`interpolate` property to `false`)\n    */\n    interpolationProperties: {position: true, rotation: true, size: true, alpha: true}, \n    interpolate: true,\n\n    //To change PIXI's renderer, set the `renderer` option to\n    //\"auto\", \"canvas\" or \"webgl\", like this:\n    //renderer: \"auto\"  \n    //Add any other Pixi initialization options you need, depending\n    //on which Pixi renderer you're using\n  });\n\n  return hexi;\n}\n\n//The Hexi main class. It contains all of Hexi's properties and\n//methods, and sets up bindings between Hexi and the module libraries.\n//If you need more find control over Hexi's initialization options,\n//you can create a new instance of the Hexi class directly in your application\n//code. See how it's done in the `hexi` function above for a good example\n//of how to do that.\n\nclass Hexi{\n\n  /*\n  Initialize Hexi's constructor with an options object literal called `o`. \n  Here are the required options:\n\n  `width`: Value in pixels that describes the canvas's width\n  `height`: Value in pixels that describes the canvas's height\n  `setup`: A function that should run as soon as Hexi is initialized\n\n  Here are the optional options:\n\n  `assets`: Array of assets (files) that should be loaded\n  `load`: A function that should run while Hexi is loading asssets\n  `renderer`: The tpe of renderer to use: \"auto\" (the default), \"canvas\" or \"webgl\"\n  `backgroundColor`: Hexadecimal color code that defines the canvas color\n  `border`: The canvas border style as a CSS border string, such as \"1px dashed black\"\n  `scaleToWindow`: A Boolean that determines whether the canvas should scale to maximum window size\n  `scaleBorderColor`: Color string that defines the color of the border around a scaled canvas.\n  `interpolationProperties: An object that defines 5 Boolean properties that determines which sprite properties are interpolated \n                            (smoothly animated) by Hexi's rendering engine (Smoothie): `position`, `size`, `rotation`, `scale` or `alpha`\n  `interpolate`: A Boolean which should be `false` if you *don't* want any sprite animation smoothing\n  `fps`: The frames-per-second the engine's game logic loop should run at (the default is 60)\n  `renderFps`: Clamps the fps rendering to the supplied frame rate\n\n  You can also add any of Pixi's initialization options, and those will be applied \n  to Pixi's renderer when Hexi creates it.\n\n  */\n  constructor(o){\n\n    //Initialize all the helper libraries\n    this.charm = new Charm(PIXI);\n    this.dust = new Dust(PIXI);\n    this.bump = new Bump(PIXI);\n    this.tink = new Tink(PIXI);\n    this.spriteUtilities = new SpriteUtilities(PIXI);\n    this.gameUtilities = new GameUtilities();\n\n    //Any modules that have an `update` method that should updated\n    //each frame in the game loop should be added to the\n    //`modulesToUpdate` array. The game loop will call the `update`\n    //method on each of these modules while the game is running.\n    //This is very efficient and does not effect performance: no modules are updated unless they\n    //contain objects that need updating.\n    this.modulesToUpdate = [];\n    this.modulesToUpdate.push(this.charm);\n    this.modulesToUpdate.push(this.dust);\n    this.modulesToUpdate.push(this.tink);\n\n    //Create local alias for the important methods and properties of\n    //these libraries, including the most useful Pixi properties\n    this.createModulePropertyAliases();\n\n    //Create the stage and renderer\n    //Auto renderer (default)\n    if (o.renderer === \"auto\" || o.renderer === undefined) {\n      this.renderer = PIXI.autoDetectRenderer(\n        o.width, \n        o.height,\n        o,\n        o.noWebGL\n      );\n\n    //Canvas renderer\n    } else if(o.renderer === \"canvas\") {\n      this.renderer = new PIXI.CanvasRenderer(\n        o.width, \n        o.height,\n        o\n      );\n\n    //WebGL renderer\n    } else if(o.renderer === \"webgl\") {\n      this.renderer = new PIXI.WebGLRenderer(\n        o.width, \n        o.height,\n        o\n      );\n    }\n\n    //Get a reference to the `renderer.view`, which is the\n    //HTML canvas element\n    this.canvas = this.renderer.view;\n\n    //Add `halfWidth` and `halfHeight` properties to the canvas\n    Object.defineProperties.bind(this, this.canvas, {\n      \"halfWidth\": {\n        get(){return this.canvas.width / 2},\n        enumerable: true, configurable: true\n      },\n      \"halfHeight\": {\n        get(){return this.canvas.height / 2},\n        enumerable: true, configurable: true\n      }\n    });\n\n    //Set the canvas's optional background color and border style\n    if (o.backgroundColor) {\n      this.renderer.backgroundColor = this.color(o.backgroundColor);\n    } else {\n      this.renderer.backgroundColor = 0xFFFFFF;\n    }\n    if (o.border) this.canvas.style.border = o.border;\n\n    //Add the canvas to the HTML document\n    document.body.appendChild(this.canvas);\n\n    //Create a container object called the `stage`\n    this.stage = new this.Container();\n\n    //Add Hexi's special sprite properties to the stage\n    this.addProperties(this.stage);\n    this.stage._stage = true;\n\n    //The game's scale\n    if (o.scaleToWindow) {\n      this.scaleToWindow(o.scaleBorderColor);\n    } else {\n      this.scale = 1;\n    }\n\n    //Make the pointer\n    this.pointer = this.makePointer(this.canvas, this.scale);\n\n    //Set the game `state`\n    this.state = undefined;\n\n    //Set the user-defined `load` and `setup` states\n    if(o.load !== undefined) this.loadState = o.load;\n    \n    //The `setup` function is required, so throw an error if it's\n    //missing\n    if (!o.setup) {\n      throw new Error(\n        \"Please supply the setup option in the constructor to tell Hexi which function should run first when it starts.\"\n      );\n    } else {\n      this.setupState = o.setup;\n    }\n\n    //A variable to track the current percentage of loading assets \n    this.loadingProgress = 0;\n    \n    //A variable to track the currently loading asset\n    this.loadingFile = \"\";\n\n    //Load any assets if they've been provided\n    if(o.assets !== undefined) {\n      this.assetsToLoad = o.assets;\n    }\n\n    //Tell Hexi that we're not using a loading progress bar.\n    //(This will be set to `true` if the user invokes the `loadingBar`\n    //function, which you'll see below)\n    this._progressBarAdded = false;\n\n    //The `soundObjects` object is used to store all sounds\n    this.soundObjects = {};\n\n    //Create a new instance of Smoothie, which manages Hexi's game\n    //loop and adds smooth sprite interpolation\n    this.smoothie = new Smoothie({\n      engine: PIXI, \n      renderer: this.renderer,\n      root: this.stage,\n      update: this.update.bind(this),\n      properties: o.interpolationProperties,\n      interpolate: o.interpolate,\n      fps: o.fps,\n      renderFps: o.renderFps\n    });\n  }\n\n  //A method to scale and align the canvas in the browser\n  //window using the `scaleToWindow.js` function module\n  scaleToWindow(scaleBorderColor = \"#2C3539\") {\n\n    //Set the default CSS padding and margins of HTML elements to 0 \n    //<style>* {padding: 0; margin: 0}</style>\n    let newStyle = document.createElement(\"style\");\n    let style = \"* {padding: 0; margin: 0}\";\n    newStyle.appendChild(document.createTextNode(style));\n    document.head.appendChild(newStyle);\n\n    //Use the `scaleToWindow` function module to scale the canvas to\n    //the maximum window size\n    this.scale = scaleToWindow(this.canvas, scaleBorderColor);\n    this.pointer.scale = this.scale;\n\n    //Re-scale on each browser resize\n    window.addEventListener(\"resize\", event => { \n\n      //Scale the canvas and update Hexi's global `scale` value and\n      //the pointer's `scale` value\n      this.scale = scaleToWindow(this.canvas, scaleBorderColor);\n      this.pointer.scale = this.scale;\n    });\n  }\n\n  //The `start` method must be called by the user after Hexi has been\n  //initialized to start the loading process and turn on the engine.\n  start(){\n\n    //If there are assets to load, load them, and set the game's state\n    //to the user-defined `loadState`\n    if (this.assetsToLoad) {\n      this.load(this.assetsToLoad, this.validateAssets);\n      if (this.loadState) this.state = this.loadState;\n    }\n    else {\n\n      //If there's nothing to load, run the `setup` state, which will\n      //just run once\n      this.setupState();\n    }\n\n    //Start the game loop\n    //this.gameLoop();\n    this.smoothie.start();\n  }\n  \n  //Use the `load` method to load any files into Hexi. Pass it a \n  //callback function as the second argument to launch a function that\n  //should run when all the assets have finished loading.\n  load(assetsToLoad, callbackFunction = undefined) {\n\n    //Handle special file types that Pixi's loader doesn't understand\n    //The `findAssets` function will return an array to get an array just\n    //containing those file source paths you're interested in\n    let findAssets = fileExtensionArray => {\n      let fileSourcePaths = assetsToLoad.filter(source => {\n\n        //Find the file extension of the asset\n        let extension = source.split(\".\").pop();\n        if(fileExtensionArray.indexOf(extension) !== -1){\n          return true;\n        }\n      });\n\n      return fileSourcePaths;\n    };\n\n    /* Load fonts */\n\n    //First, define the file extensions for the special file types\n    //you're interested in\n    //Fonts\n    let fontExtensions = [\"ttf\", \"otf\", \"ttc\", \"woff\"];\n\n    //Get the font source paths\n    let fontFiles = findAssets(fontExtensions);\n\n    //If there are any font files, load them into the browser using an\n    //old trick that forces the browser to load them\n    if (fontFiles.length > 0) {\n      this.spanElements = [];\n      fontFiles.forEach(source => {\n      \n        //Loads the font files by writing CSS code to the HTML document head\n        //Use the font's filename as the `fontFamily` name. This code captures \n        //the font file's name without the extension or file path\n        let fontFamily = source.split(\"/\").pop().split(\".\")[0];\n\n        //Push the font family name into Hexi's `fontFamilies` array\n        if (this.fontFamilies) this.fontFamilies.push(fontFamily);\n        \n        //Append an `@afont-face` style rule to the head of the HTML document\n        let newStyle = document.createElement(\"style\");\n        let fontFace\n          = \"@font-face {font-family: '\" + fontFamily\n          + \"'; src: url('\" + source + \"');}\";\n        newStyle.appendChild(document.createTextNode(fontFace));\n        document.head.appendChild(newStyle);\n\n        //Trick the browser into loading the font file by \n        //displaying an invisible element\n        var span = document.createElement(\"span\");\n        span.style.fontFamily = fontFamily;\n        document.body.appendChild(span);\n        span.innerHTML = \"?\";\n        span.style.display = \"block\";\n        span.style.opacity = \"0\";\n        this.spanElements.push(span);\n      });\n    }\n\n    /* Load sound */\n    \n    //Set default loading mechanism for sound file extensions to use XHR\n    let Resource = PIXI.loaders.Resource;\n    Resource.setExtensionLoadType(\"wav\", Resource.LOAD_TYPE.XHR);\n    Resource.setExtensionLoadType(\"mp3\", Resource.LOAD_TYPE.XHR);\n    Resource.setExtensionLoadType(\"ogg\", Resource.LOAD_TYPE.XHR);\n    Resource.setExtensionLoadType(\"webm\", Resource.LOAD_TYPE.XHR);\n\n    //Set default loading type for sound file extensions to be arraybuffer\n    Resource.setExtensionXhrType(\"wav\", Resource.XHR_RESPONSE_TYPE.BUFFER);\n    Resource.setExtensionXhrType(\"mp3\", Resource.XHR_RESPONSE_TYPE.BUFFER);\n    Resource.setExtensionXhrType(\"ogg\", Resource.XHR_RESPONSE_TYPE.BUFFER);\n    Resource.setExtensionXhrType(\"webm\", Resource.XHR_RESPONSE_TYPE.BUFFER);\n\n    /* Load ordinary assets */\n\n    let loadProgressHandler = (loader, resource) => {\n\n      //Display the file `url` currently being loaded\n      //console.log(`loading: ${resource.url}`); \n      this.loadingFile = resource.url;\n\n      //Display the percentage of files currently loaded\n      //console.log(`progress: ${loader.progress}`); \n      this.loadingProgress = loader.progress;\n    };\n\n    //Load the files and call the `loadProgressHandler` while they're\n    //loading\n    this.loader.reset();\n    this.loadingProgress = 0;\n    this.loadingFile = \"\";\n    this.loader\n      .add(assetsToLoad)\n      .on(\"progress\", loadProgressHandler)\n      .load(callbackFunction.bind(this));\n  }\n\n  //The `validateAssets` method runs when all the assets have finished\n  //loading. It checks to see if there are any sounds files and, if\n  //there are, decodes them and turns them into sound objects using the \n  //`sounds.js` module's `makeSound` function. If there are no sounds\n  //to load, the loading state is finished and the setup state is run.\n  //But, if there are sounds to load, the setup state will only run\n  //after the sounds have been decoded.\n  validateAssets(){\n    console.log(\"All assets loaded\");\n\n    //The `finishLoadingState` method will be called if everything has\n    //finished loading and any possible sounds have been decoded\n    let finishLoadingState = () =>{\n      //Reset the `assetsToLoad` array\n      this.assetsToLoad = [];\n\n      //Clear the `loadState`\n      this.loadState = undefined;\n\n      //Clear the game `state` function for now to stop the loop.\n      this.state = undefined;\n\n      //Remove the loading progress bar if the user invoked the `loadingBar`\n      //function\n      if(this._progressBarAdded) {\n        this.progressBar.remove();\n      }\n\n      //If any fonts were tricked into loading \n      //method make the <span> tags that use them invisible\n      if (this.spanElements) {\n        this.spanElements.forEach(element =>{\n          element.style.display = \"none\";\n        });\n      }\n\n      //Call the `setup` state\n      this.setupState();\n    };\n\n    //We need to check if any possible sound file have been loaded\n    //because, if there have, they need to fist be decoded before we\n    //can launch the setup state.\n\n    //Variables to count the number of sound files and the sound files\n    //that have been decoded. If both these numbers are the same at\n    //some point, then we know all the sounds have been decoded and we\n    //can call the `finishLoadingState` function\n    let soundsToDecode = 0,\n        soundsDecoded = 0;\n\n    //First, create a list of the kind of sound files we want to check\n    let soundExtensions = [\"wav\", \"mp3\", \"ogg\", \"webm\"];\n\n    //The `decodeHandler` will run when each sound file is decoded\n    let decodeHandler = () => {\n      \n      //Count 1 more sound as having been decoded\n      soundsDecoded += 1;\n\n      //If the decoded sounds match the number of sounds to decode,\n      //then we know all the sounds have been decoded and we can call\n      //`finishLoadingState`\n      if (soundsToDecode === soundsDecoded) {\n        finishLoadingState();\n      }\n    };\n\n    //Loop through all the loader's resources and look for sound files\n    Object.keys(this.loader.resources).forEach(resource => {\n\n      //Find the file extension of the asset\n      let extension = resource.split(\".\").pop();\n\n      //If one of the resource file extensions matches the sound file\n      //extensions, then we know we have a sound file\n      if(soundExtensions.indexOf(extension) !== -1){\n\n        //Count one more sound to load\n        soundsToDecode += 1;\n\n        //Create aliases for the sound's `xhr` object and `url` (its\n        //file name)\n        let xhr = this.loader.resources[resource].xhr,\n            url = this.loader.resources[resource].url;\n\n        //Create a sound sprite using the `sound.js` module's\n        //`makeSound` function. Notice the 4th argument is the loaded\n        //sound's `xhr` object. Setting the 3rd argument to `false`\n        //means that `makeSound` won't attempt to load the sounds\n        //again. When the sound has been decoded, the `decodeHandler`\n        //(see above!) will be run\n        let soundSprite = makeSound(url, decodeHandler.bind(this), false, xhr);\n\n        //Get the sound file name.\n        soundSprite.name = this.loader.resources[resource].name;\n\n        //Add the sound object to Hexi's `soundObjects` object.\n        //You'll be able to access them in your application through\n        //Hexi's higher-level `sound` method, like this:\n        //`hexi.sound(\"soundFileName.wav\");`\n        this.soundObjects[soundSprite.name] = soundSprite;\n      }\n    });\n    \n    //If there are no sound files, we can skip the decoding step and\n    //just call `finishLoadingState` directly\n    if (soundsToDecode === 0) {\n      finishLoadingState();\n    }\n\n  }\n  \n  update() {\n\n    //Update all the modules in the `modulesToUpdate` array.\n    //These are modules that contain `update` methods that need to be\n    //called every frame\n    this.modulesToUpdate.forEach(module => module.update());\n\n    //Run the current game `state` function if it's been defined and\n    //the game isn't `paused`\n    if (this.state && !this.paused) {\n      this.state();\n    }\n  }\n\n  //Pause and resume methods\n  pause() {\n    this.paused = true;\n  }\n  resume() {\n    this.paused = false;\n  }\n\n  /* Hexi's interfaces to the modules */\n\n  //A function that helpfully creates local, top-level references to the\n  //most useful properties and methods from the loaded modules\n  createModulePropertyAliases() {\n\n    //Pixi - Rendering\n    this.Container = PIXI.Container;\n    this.loader = PIXI.loader;\n    this.resources = PIXI.loader.resources;\n    this.TextureCache = PIXI.utils.TextureCache;\n\n    //Tink - Interactivity\n    this.draggableSprites = this.tink.draggableSprites;\n    this.pointers = this.tink.pointers;\n    this.buttons = this.tink.buttons;\n    this.makePointer = (canvas, scale) => this.tink.makePointer(canvas, scale);\n    this.makeDraggable = (...sprites) => this.tink.makeDraggable(...sprites);\n    this.makeUndraggable = (...sprites) => this.tink.makeUndraggable(...sprites);\n    this.makeInteractive = (o) => this.tink.makeInteractive(o);\n    this.button = (source, x = 0, y = 0) => this.tink.button(source, x, y);\n    this.keyboard = this.tink.keyboard;\n\n    //SpriteUtilities - Sprite creation tools\n    this.filmstrip = (texture, frameWidth, frameHeight, spacing) => this.spriteUtilities.filmstrip(texture, frameWidth, frameHeight, spacing);\n    this.frame = (source, x, y, width, height) => this.spriteUtilities.frame(source, x, y, width, height);\n    this.frames = (source, coordinates, frameWidth, frameHeight) => this.spriteUtilities.frames(source, coordinates, frameWidth, frameHeight);\n    this.frameSeries = (startNumber, endNumber, baseName, extension) => this.spriteUtilities.frames(startNumber, endNumber, baseName, extension);\n    this.colorToRGBA = value => this.spriteUtilities.colorToRGBA(value);\n    this.colorToHex = value => this.spriteUtilities.colorToHex(value);\n    this.byteToHex = value => this.spriteUtilities.byteToHex(value);\n    this.color = value => this.spriteUtilities.color(value);\n\n    //Charm - Tweening\n    this.fadeOut = (sprite, frames = 60) => this.charm.fadeOut(sprite, frames);\n    this.fadeIn = (sprite, frames = 60) => this.charm.fadeIn(sprite, frames);\n    this.pulse = (sprite, frames = 60, minAlpha = 0) => this.charm.pulse(sprite, frames, minAlpha);\n    this.slide = (sprite, endX, endY, frames = 60, type = \"smoothstep\", yoyo = false, delayBeforeRepeat = 0) => {\n      return this.charm.slide(sprite, endX, endY, frames, type, yoyo, delayBeforeRepeat = 0);\n    };\n    this.breathe = (sprite, endScaleX = 0.8, endScaleY = 0.8, frames = 60, yoyo = true, delayBeforeRepeat = 0) => {\n      return this.charm.breathe(sprite, endScaleX, endScaleY, frames, yoyo, delayBeforeRepeat);\n    };\n    this.scale = (sprite, endScaleX = 0.5, endScaleY = 0.5, frames = 60) => this.charm.scale(sprite, endScaleX, endScaleY, frames);\n    this.strobe = (sprite, scaleFactor = 1.3, startMagnitude = 10, endMagnitude = 20, frames = 10, yoyo = true, delayBeforeRepeat = 0) => {\n      return this.strobe(sprite, scaleFactor, startMagnitude, endMagnitude, frames, yoyo, delayBeforeRepeat);\n    };\n    this.wobble = (\n      sprite, scaleFactorX = 1.2, scaleFactorY = 1.2, frames = 10, xStartMagnitude = 10, xEndMagnitude = 10, \n      yStartMagnitude = -10, yEndMagnitude = -10, friction = 0.98, yoyo = true, delayBeforeRepeat = 0\n    ) => {\n      return this.charm.wobble(\n        sprite, scaleFactorX = 1.2, scaleFactorY = 1.2, frames = 10, xStartMagnitude = 10, xEndMagnitude = 10,\n        yStartMagnitude = -10, yEndMagnitude = -10, friction = 0.98, yoyo = true, delayBeforeRepeat = 0\n      );\n    };\n    this.followCurve = (sprite, pointsArray, totalFrames, type = \"smoothstep\", yoyo = false, delayBeforeRepeat = 0) => {\n      return this.charm.followCurve(sprite, pointsArray, totalFrames, type, yoyo, delayBeforeRepeat);\n    };\n    this.walkPath = (sprite, originalPathArray, totalFrames = 300, type = \"smoothstep\", loop = false, yoyo = false, delayBetweenSections = 0) => {\n      return this.charm.walkPath(sprite, originalPathArray, totalFrames, type, loop, yoyo, delayBetweenSections);\n    };\n    this.walkCurve = (sprite, pathArray, totalFrames = 300, type = \"smoothstep\", loop = false, yoyo = false, delayBeforeContinue = 0) => {\n      return this.walkCurve(sprite, pathArray, totalFrames, type, loop, yoyo, delayBeforeContinue);\n    };\n    this.removeTween = (tweenObject) => this.charm.removeTween(tweenObject);\n    this.makeTween = (tweensToAdd) => this.charm.makeTween(tweensToAdd);\n    this.tweenProperty = (sprite, property, startValue, endValue, totalFrames, type = \"smoothstep\", yoyo = false, delayBeforeRepeat = 0) => {\n      return this.charm.tweenProperty(sprite, property, startValue, endValue, totalFrames, type, yoyo, delayBeforeRepeat);\n    };\n\n    //Bump - Collision\n    this.hitTestPoint = (point, sprite) => this.bump.hitTestPoint(point, sprite);\n    this.hitTestCircle = (c1, c2, global = false) => this.bump.hitTestCircle(c1, c2, global);\n    this.circleCollision = (c1, c2, bounce = false, global = false) => this.bump.circleCollision(c1, c2, bounce, global);\n    this.movingCircleCollision = (c1, c2, global = false) => this.bump.movingCircleCollision(c1, c2, global);\n    this.multipleCircleCollision = (arrayOfCircles, global = false) => this.bump.multipleCircleCollision(arrayOfCircles, global);\n    this.rectangleCollision = (r1, r2, bounce = false, global = true) => this.bump.rectangleCollision( r1, r2, bounce, global);\n    this.hitTestRectangle = (r1, r2, global = false) => this.hitTestRectangle(r1, r2, global);\n    this.hitTestCircleRectangle = (c1, r1, global = false) => this.bump.hitTestCircleRectangle(c1, r1, global);\n    this.hitTestCirclePoint = (c1, point, global = false) => hitTestCirclePoint(c1, point, global);\n    this.circleRectangleCollision = (c1, r1, bounce = false, global = false) => this.bump.circleRectangleCollision(c1, r1, bounce, global);\n    this.circlePointCollision = (c1, point, bounce = false, global = false) => this.bump.circlePointCollision(c1, point, bounce, global);\n    this.bounceOffSurface = (o, s) => this.bump.bounceOffSurface(o, s);\n    this.hit = (a, b, react = false, bounce = false, global, extra = undefined) => this.bump.hit(a, b, react, bounce, global, extra);\n\n    //GameUtilities - Useful utilities\n    this.distance = (s1, s2) => this.gameUtilities.distance(s1, s2);\n    this.followEase = (follower, leader, speed) => this.gameUtilities.followEase(follower, leader, speed);\n    this.followConstant = (follower, leader, speed) => this.gameUtilities.followConstant(follower, leader, speed);\n    this.angle = (s1, s2) => this.gameUtilities.angle(s1, s2);\n    this.rotateAroundSprite = (rotatingSprite, centerSprite, distance, angle) => this.gameUtilities.rotateAroundSprite(rotatingSprite, centerSprite, distance, angle);\n    this.rotateAroundPoint = this.gameUtilities.rotateAroundPoint;\n    this.randomInt = this.gameUtilities.randomInt;\n    this.randomFloat = this.gameUtilities.randomFloat;\n    this.move = this.gameUtilities.move;\n    this.wait = this.gameUtilities.wait;\n  }\n\n  //Add Smoothie getters and setters to access the `fps`,\n  //`properties`, `renderFps` and `interpolate` properties\n  get fps() {return this.smoothie.fps;}\n  set fps(value) {this.smoothie.fps = value;}\n\n  get renderFps() {return this.smoothie.renderFps;}\n  set renderFps(value) {this.smoothie.renderFps = value;}\n\n  get interpolate() {return this.smoothie.interpolate;}\n  set interpolate(value) {this.smoothie.interpolate = value;}\n\n  get interpolationProperties() {return this.smoothie.properties;}\n  set interpolationProperties(value) {this.smoothie.properties = value;}\n\n  //The `border` property lets you set the border style on the canvas\n  set border(value) {this.canvas.style.border = value;}\n\n  //The `backgroundColor` property lets you set the background color\n  //of the renderer\n  set backgroundColor(value) {this.renderer.backgroundColor = this.color(value);}\n\n  //Intercept the Bump library's `contain` method to make sure that\n  //the stage `width` and `height` match the canvas width and height\n  contain(sprite, container) {\n    let o = {};\n    if (container._stage) {\n      o = this.compensateForStageSize(container);\n    } else {\n      o = container\n    }\n    return this.bump.contain(sprite, o);\n  }\n\n  /* Sprite creation methods */\n\n  //Hexi's uses methods uses the from\n  //SpriteUtilities module to help create sprites. But, as a helpful bonus, Hexi automatically adds sprites \n  //to the `stage` container. (The `stage` is Hexi's root container for all\n  //Hexi sprites.) Hexi also adds a whole bunch of\n  //extra, useful properties and methods to sprites with the\n  //`addProperties` method\n  sprite(source, x = 0, y = 0, tiling = false, width, height){\n    let sprite = this.spriteUtilities.sprite(source, x, y, tiling, width, height);\n    this.addProperties(sprite);\n    this.stage.addChild(sprite);\n    return sprite;\n  }\n\n  //Hexi's `text` method is a quick way to create a Pixi Text sprite\n  //and add it to the stage\n  text(content = \"message\", font = \"16px sans\", fillStyle = \"red\", x = 0, y = 0) {\n    let message = this.spriteUtilities.text(content, font, fillStyle, x, y);\n    this.addProperties(message);\n    this.stage.addChild(message);\n    return message;\n  }\n\n  //`bitmapText` method is a quick way to create a Pixi BitmapText sprite\n  bitmapText(content = \"message\", font, align, tint, x = 0, y = 0) {\n    let message = this.spriteUtilities.bitmapText(content, font, align, tint, x, y);\n    this.addProperties(message);\n    this.stage.addChild(message);\n    return message;\n  }\n\n  //Make a rectangle and add it to the stage\n  rectangle(width = 32, height = 32,  fillStyle = 0xFF3300, strokeStyle = 0x0033CC, lineWidth = 0, x = 0, y = 0) {\n    let rectangle = this.spriteUtilities.rectangle(width, height, fillStyle, strokeStyle, lineWidth, x, y);\n    this.addProperties(rectangle);\n    this.stage.addChild(rectangle);\n    return rectangle;\n  }\n\n  //Make a circle and add it to the stage\n  circle(diameter = 32, fillStyle = 0xFF3300, strokeStyle = 0x0033CC, lineWidth = 0, x = 0, y = 0) {\n    let circle = this.spriteUtilities.circle( diameter, fillStyle, strokeStyle, lineWidth, x, y);\n    this.addProperties(circle);\n    \n    //Add diameter and radius properties to the circle\n    circle.circular = true;\n    this.stage.addChild(circle);\n    return circle;\n  }\n\n  //Draw and line\n  line(strokeStyle = 0x000000, lineWidth = 1, ax = 0, ay = 0, bx = 32, by = 32) {\n    let line = this.spriteUtilities.line(strokeStyle, lineWidth, ax, ay, bx, by);\n    this.addProperties(line);\n    this.stage.addChild(line);\n    return line;\n  }\n\n  //Use `group` to create a Container\n  group(...sprites) {\n    let group = this.spriteUtilities.group(...sprites);\n    this.addProperties(group);\n    this.stage.addChild(group);\n    return group;\n  }\n\n  //`batch` creates a Pixi ParticleContainer\n  batch(size, options) {\n    let batch = this.spriteUtilities.batch(size, options);\n    this.addProperties(batch);\n    this.stage.addChild(batch);\n    return batch;\n  }\n\n  //Use `remove` to remove a sprite from its parent. You can supply a \n  //single sprite, a list of sprites, or an array of sprites \n  remove(...sprites) {\n    this.spriteUtilities.remove(...sprites);\n  }\n\n\n  /* Hexi's sprite properties */\n\n  //The sprite creation methods above all run the `addProperties`\n  //method on each sprite they create. `addProperties` adds special\n  //properties and methods (super powers!) to Hexi sprites.\n  \n  addProperties(o){\n\n    //Velocity\n    o.vx = 0;\n    o.vy = 0;\n\n    //A \"private\" `_layer` property\n    o._layer = 0;\n\n    //Is the sprite circular? If it is, it will be given a `radius`\n    //and `diameter`\n    o._circular = false;\n\n    //Is the sprite interative? Setting this to `true` makes the\n    //sprite behave like a button\n    o._interact = false;\n\n    //Swap the depth layer positions of two child sprites\n    o.swapChildren = (child1, child2) => {\n      let index1 = o.children.indexOf(child1),\n          index2 = o.children.indexOf(child2);\n      if (index1 !== -1 && index2 !== -1) {\n\n        //Swap the indexes\n        child1.childIndex = index2;\n        child2.childIndex = index1;\n\n        //Swap the array positions\n        o.children[index1] = child2;\n        o.children[index2] = child1;\n      } else {\n        throw new Error(child + \" Both objects must be a child of the caller \" + o);\n      }\n    };\n\n    //`add` and `remove` convenience methods let you add and remove\n    //many sprites at the same time.\n    o.add = (...sprites) => {\n      if (sprites.length > 1) {\n        sprites.forEach(sprite  => o.addChild(sprite));\n      } else {\n        o.addChild(sprites[0]);\n      }\n    };\n    o.remove = (...sprites) => {\n      if (sprites.length > 1) {\n        sprites.forEach(sprite => o.removeChild(sprite));\n      } else {\n        o.removeChild(sprites[0]);\n      }\n    };\n\n    //The `put` methods are conveniences that help you position a\n    //another sprite in and around this sprite.\n    //First, get a short form reference to the sprite to make the code more\n    //easier to read\n    let a = o;\n\n    let nudgeAnchor = (o, value, axis) => {\n      if (o.anchor !== undefined) {\n        if (o.anchor.axis !== 0) {\n          return value * ((1 - o.anchor[axis]) - o.anchor[axis]);\n        } else {\n          return value;\n        }\n      } else {\n        return value; \n      }\n    };\n\n    let compensateForAnchor = (o, value, axis) => {\n      if (o.anchor !== undefined) {\n        if (o.anchor.axis !== 0) {\n          return value * o.anchor[axis];\n        } else {\n          return value;\n        }\n      } else {\n        return value; \n      }\n    };\n\n    let compensateForAnchors = (a, b, property1, property2) => {\n       return compensateForAnchor(a, a[property1], property2) + compensateForAnchor(b, b[property1], property2)\n    };\n\n    //Center a sprite inside this sprite. `xOffset` and `yOffset`\n    //arguments determine by how much the other sprite's position\n    //should be offset from the center. These methods use the\n    //sprites' global coordinates (`gx` and `gy`).\n    //In all these functions, `b` is the second sprite that is being\n    //positioned relative to the first sprite (this one), `a`.\n    //Center `b` inside `a`.\n    o.putCenter = (b, xOffset = 0, yOffset = 0) => {\n      if (o._stage) a = this.compensateForStageSize(o);\n      xOffset = xOffset || 0;\n      yOffset = yOffset || 0;\n      //b.x = (a.x + a.halfWidth - (b.halfWidth * ((1 - b.anchor.x) - b.anchor.x))) + xOffset;\n      b.x = (a.x + nudgeAnchor(a, a.halfWidth, \"x\") - nudgeAnchor(b, b.halfWidth, \"x\")) + xOffset;\n      b.y = (a.y + nudgeAnchor(a, a.halfHeight, \"y\") - nudgeAnchor(b, b.halfHeight, \"y\")) + yOffset;\n\n      //Compensate for the parent's position\n      if(!o._stage) o.compensateForParentPosition(a, b);\n    };\n\n    //Position `b` to the left of `a`.\n    o.putLeft = (b, xOffset = 0, yOffset = 0) => {\n      if (o._stage) a = this.compensateForStageSize(o);\n      xOffset = xOffset || 0;\n      yOffset = yOffset || 0;\n      b.x = (a.x - nudgeAnchor(b, b.width, \"x\")) + xOffset - compensateForAnchors(a, b, \"width\", \"x\");\n      b.y = (a.y + nudgeAnchor(a, a.halfHeight, \"y\") - nudgeAnchor(b, b.halfHeight, \"y\")) + yOffset;\n\n      //Compensate for the parent's position\n      if(!o._stage) o.compensateForParentPosition(a, b);\n    };\n\n    //Position `b` above `a`.\n    o.putTop = (b, xOffset = 0, yOffset = 0) => {\n      if (o._stage) a = this.compensateForStageSize(o);\n      xOffset = xOffset || 0;\n      yOffset = yOffset || 0;\n      b.x = (a.x + nudgeAnchor(a, a.halfWidth, \"x\") - nudgeAnchor(b, b.halfWidth, \"x\")) + xOffset;\n      b.y = (a.y - nudgeAnchor(b, b.height, \"y\")) + yOffset - compensateForAnchors(a, b, \"height\", \"y\");\n\n      //Compensate for the parent's position\n      if(!o._stage) o.compensateForParentPosition(a, b);\n    };\n\n    //Position `b` to the right of `a`.\n    o.putRight = (b, xOffset = 0, yOffset = 0) => {\n      if (o._stage) a = this.compensateForStageSize(o);\n      xOffset = xOffset || 0;\n      yOffset = yOffset || 0;\n      b.x = (a.x + nudgeAnchor(a, a.width, \"x\")) - xOffset + compensateForAnchors(a, b, \"width\", \"x\");\n      b.y = (a.y + nudgeAnchor(a, a.halfHeight, \"y\") - nudgeAnchor(b, b.halfHeight, \"y\")) + yOffset;\n      //b.x = (a.x + a.width) + xOffset;\n      //b.y = (a.y + a.halfHeight - b.halfHeight) + yOffset;\n\n      //Compensate for the parent's position\n      if(!o._stage) o.compensateForParentPosition(a, b);\n    };\n\n    //Position `b` below `a`.\n    o.putBottom = (b, xOffset = 0, yOffset = 0) => {\n      if (o._stage) a = this.compensateForStageSize(o);\n      xOffset = xOffset || 0;\n      yOffset = yOffset || 0;\n      //b.x = (a.x + a.halfWidth - b.halfWidth) + xOffset;\n      b.x = (a.x + nudgeAnchor(a, a.halfWidth, \"x\") - nudgeAnchor(b, b.halfWidth, \"x\")) + yOffset;\n      //b.y = (a.y + a.height) + yOffset;\n      b.y = (a.y + nudgeAnchor(a, a.height, \"y\")) - xOffset + compensateForAnchors(a, b, \"height\", \"y\");\n\n      //Compensate for the parent's position\n      if(!o._stage) o.compensateForParentPosition(a, b);\n    };\n\n    //`compensateForParentPosition` is a helper funtion for the above\n    //`put` methods that subracts the parent's global position from\n    //the nested child's position.\n    o.compensateForParentPosition = (a, b) => {\n      if (b.parent.gx !== 0 || b.parent.gy !== 0) {\n        b.x -= a.gx;\n        b.y -= a.gy;\n      }\n    };\n\n    let self = this;\n    Object.defineProperties(o, {\n      \"gx\": {\n        get(){return o.getGlobalPosition().x},\n        enumerable: true, configurable: true\n      },\n      \"gy\": {\n        get(){return o.getGlobalPosition().y},\n        enumerable: true, configurable: true\n      },\n      \"centerX\": {\n        get(){return o.x + o.width / 2},\n        enumerable: true, configurable: true\n      },\n      \"centerY\": {\n        get(){return o.y + o.height / 2},\n        enumerable: true, configurable: true\n      },\n      \"halfWidth\": {\n        get(){return o.width / 2},\n        enumerable: true, configurable: true\n      },\n      \"halfHeight\": {\n        get(){return o.height / 2},\n        enumerable: true, configurable: true\n      },\n      \"scaleModeNearest\": {\n        set(value){\n          if (o.texture.baseTexture) {\n            if (value) {\n              o.texture.baseTexture.scaleMode = PIXI.SCALE_MODES.NEAREST;\n            } else {\n              o.texture.baseTexture.scaleMode = PIXI.SCALE_MODES.LINEAR;\n            }\n          } else {\n            throw new Error(`The scale mode of ${o} cannot be modified`)\n          }\n        },\n        enumerable: true, configurable: true\n      },\n      \"pivotX\": {\n        get(){return o.anchor.x},\n        set(value) {\n          o.anchor.x = value;\n          if (!o._previousPivotX) {\n            o.x += value * o.width; \n          } else {\n            o.x += (value - o._previousPivotX) * o.width; \n          }\n          o._previousPivotX = value;\n        },\n        enumerable: true, configurable: true\n      },\n      \"pivotY\": {\n        get(){return o.anchor.y},\n        set(value) {\n          o.anchor.y = value;\n          if (!o._previousPivotY) {\n            o.y += value * o.height; \n          } else {\n            o.y += (value - o._previousPivotY) * o.height; \n          }\n          o._previousPivotY = value;\n        },\n        enumerable: true, configurable: true\n      },\n      \"scaleX\": {\n        get(){return o.scale.x},\n        set(value) {\n          o.scale.x = value;\n        },\n        enumerable: true, configurable: true\n      },\n      \"scaleY\": {\n        get(){return o.scale.y},\n        set(value) {\n          o.scale.y = value;\n        },\n        enumerable: true, configurable: true\n      },\n\n      //Depth layer\n      \"layer\": {\n        get() {return o._layer},\n        set(value) {\n          o._layer = value;\n          if (o.parent) {\n\n            //Sort the sprite’s parent’s `children` array so that sprites with a\n            //higher `layer` value are moved to the end of the array\n            o.parent.children.sort((a, b) => a.layer - b.layer);\n          } \n        },\n        enumerable: true, configurable: true\n      },\n\n      //Interactivity\n      \"interact\": {\n        get() {return o._interact},\n        set(value) {\n          if (value === true) {\n            if (!o._interact) {\n              self.makeInteractive(o);\n              o._interact = true;\n            }\n          }else{\n            if (self.tink.buttons.indexOf(o) !== -1) {\n              self.tink.buttons.splice(self.tink.buttons.indexOf(o), 1);\n              o._interact = false;\n            }\n          }\n        },\n        enumerable: true, configurable: true\n      },\n\n      //The `localBounds` and `globalBounds` methods return an object\n      //with `x`, `y`, `width`, and `height` properties that define\n      //the dimensions and position of the sprite. This is a convenience\n      //to help you set or test boundaries without having to know\n      //these numbers or request them specifically in your code.\n      \"localBounds\": {\n        get() {\n          return {\n            x: 0,\n            y: 0,\n            width: o.width,\n            height: o.height\n          };\n        },\n        enumerable: true, configurable: true\n      },\n      \"globalBounds\": {\n        get() {\n          return {\n            x: o.gx,\n            y: o.gy,\n            width: o.gx + o.width,\n            height: o.gy + o.height\n          };\n        },\n        enumerable: true, configurable: true\n      },\n\n      //`empty` is a convenience property that will return `true` or\n      //`false` depending on whether or not this sprite's `children`\n      //array is empty\n      \"empty\": {\n        get() {\n          if (o.children.length === 0) {\n            return true;\n          } else {\n            return false;\n          }   \n        },\n        enumerable: true, configurable: true\n      },\n\n      //The `circular` property lets you define whether a sprite\n      //should be interpreted as a circular object. If you set\n      //`circular` to `true`, the sprite is given `radius` and `diameter`\n      //properties. If you set `circular` to `false`, the `radius`\n      //and `diameter` properties are deleted from the sprite\n      \"circular\": {\n        get() {return o._circular;},\n        set(value) {\n          //Give the sprite `diameter` and `radius` properties\n          //if `circular` is `true`\n          if (value === true && o._circular === false) {\n            Object.defineProperties(o, {\n              \"diameter\": {\n                get() {\n                  return o.width;\n                },\n                set(value) {\n                  o.width = value;\n                  o.height = value;\n                },\n                enumerable: true, configurable: true\n              },\n              \"radius\": {\n                get() {\n                  return o.halfWidth;\n                },\n                set(value) {\n                  o.width = value * 2;\n                  o.height = value * 2;\n                },\n                enumerable: true, configurable: true\n              }\n            });\n\n            //Set o.sprite's `_circular` property to `true`\n            o._circular = true;\n          }\n\n          //Remove the sprite's `diameter` and `radius` properties\n          //if `circular` is `false`\n          if (value === false && o._circular === true) {\n            delete o.diameter;\n            delete o.radius;\n            o._circular = false;\n          }\n        },\n        enumerable: true, configurable: true\n      }\n    });\n\n    //A `setPosition` convenience method to let you set the\n    //x any y position of a sprite with one line of code.\n    o.setPosition = (x, y) => {\n      o.x = x;\n      o.y = y;\n    };\n\n    //A similar `setScale` convenince method\n    o.setScale = (xScale, yScale) => {\n      o.scale.x = xScale;\n      o.scale.y = yScale;\n    };\n\n    //And a matching `setPivot` method\n    o.setPivot = (xPivot, yPivot) => {\n      o.pivotX = xPivot;\n      o.pivotY = yPivot;\n    };\n\n    if (o.circular) {\n      Object.defineProperty(o, \"radius\", {\n        get(){return o.width / 2},\n        enumerable: true, configurable: true\n      });\n    }\n\n  }\n\n  /* Utilities */\n\n  //`log` is a shortcut for `console.log`, so that you have less to\n  //type when you're debugging\n  log(value) {\n    return console.log(value);\n  }\n\n  //The `makeProgressBar` method creates a `progressBar` object with\n  //`create`, `update` and `remove` methods. It's called by the\n  //`loadingBar` method, which should be run inside the `load`\n  //function of your application code. \n\n  makeProgressBar(hexiObject) {\n  \n    let hexi = hexiObject;\n\n    //The `progressBar` object\n    hexi.progressBar = {\n      maxWidth: 0,\n      height: 0,\n      backgroundColor: \"0x808080\",\n      foregroundColor: \"0x00FFFF\",\n      backBar: null,\n      frontBar: null,\n      percentage: null,\n      assets: null,\n      initialized: false,\n\n      //Use the `create` method to create the progress bar\n      create() {\n\n        //Store a reference to the `assets` object\n        //this.assets = assets;\n\n        //Set the maximum width to half the width of the canvas\n        this.maxWidth = hexi.canvas.width / 2;\n\n        //Build the progress bar using two rectangle sprites and\n        //one text sprite\n\n        //1. Create the background bar's gray background\n        this.backBar = hexi.rectangle(this.maxWidth, 32, this.backgroundColor);\n        this.backBar.x = (hexi.canvas.width / 2) - (this.maxWidth / 2);\n        this.backBar.y = (hexi.canvas.height / 2) - 16;\n\n        //2. Create the blue foreground bar. This is the element of the\n        //progress bar that will increase in width as assets load\n        this.frontBar = hexi.rectangle(this.maxWidth, 32, this.foregroundColor);\n        this.frontBar.x = (hexi.canvas.width / 2) - (this.maxWidth / 2);\n        this.frontBar.y = (hexi.canvas.height / 2) - 16;\n\n        //3. A text sprite that will display the percentage\n        //of assets that have loaded\n        this.percentage = hexi.text(\"0%\", \"28px sans-serif\", \"black\");\n        this.percentage.x = (hexi.canvas.width / 2) - (this.maxWidth / 2) + 12;\n        this.percentage.y = (hexi.canvas.height / 2) - 17;\n      },\n\n      //Use the `update` method to update the width of the bar and \n      //percentage loaded each frame\n      update() {\n\n        //Change the width of the blue `frontBar` to match the\n        //ratio of assets that have loaded. Adding `+1` to\n        //`assets.loaded` means that the loading bar will appear at 100%\n        //when the last asset is being loaded, which is reassuring for the\n        //player observing the load progress\n        let ratio = hexi.loadingProgress / 100;\n        //console.log(`ratio: ${ratio}`);\n        this.frontBar.width = this.maxWidth * ratio;\n\n        //Display the percentage\n        this.percentage.content = `${Math.round(hexi.loadingProgress)} %`;\n      },\n\n      //Use the `remove` method to remove the progress bar when all the\n      //game assets have finished loading\n      remove() {\n\n        //Remove the progress bar using the universal sprite `remove`\n        //function\n        hexi.stage.removeChild(this.frontBar);\n        hexi.stage.removeChild(this.backBar);\n        hexi.stage.removeChild(this.percentage);\n      }\n    };\n  }\n\n  //The `loadingBar` method should be called inside the user-definable\n  //`load` method in the application code. This function will run in a\n  //loop. It will create the loading bar, and then call the loading\n  //bar's `update` method each frame. After all the assets have been\n  //loaded, Hexi's `validateAssets` method removes the loading bar. \n  loadingBar() {\n\n    if (!this._progressBarAdded) {\n\n      //Run the method that creates the progress bar object\n      this.makeProgressBar(this);\n\n      //Create the loading bar\n      this.progressBar.create();\n\n      //Tell Hexi that a progress bar has been added\n      this._progressBarAdded = true;\n    } else {\n\n      //Update the progress bar each frame\n      this.progressBar.update();\n    }\n  }\n\n  //Hexi's root `stage` object will have a width and height equal to\n  //its contents, not the size of the canvas. So, let's use the more\n  //useful canvas width and height for relative positioning instead \n  compensateForStageSize(o) {\n    if(o._stage === true) {\n      let a = {};\n      a.x = 0;\n      a.y = 0;\n      a.width = this.canvas.width;\n      a.height = this.canvas.height;\n      a.halfWidth = this.canvas.width / 2;\n      a.halfHeight = this.canvas.height / 2;\n      return a;\n    }\n  }\n\n  //High level functions for accessing the loaded resources and custom parsed\n  //objects, like sounds.\n  image(imageFileName) {\n    if (this.TextureCache[imageFileName]) {\n    return this.TextureCache[imageFileName];\n    } else {\n      throw new Error(`${imageFileName} does not appear to be an image`);\n    }\n  }\n  id(textureAtlasFrameId) {\n    if (this.TextureCache[textureAtlasFrameId]) {\n      return this.TextureCache[textureAtlasFrameId];\n    } else {\n      throw new Error(`${textureAtlasFrameId} does not appear to be a texture atlas frame id`);\n    }\n  }\n  json(jsonFileName) {\n    if (this.loader.resources[jsonFileName].data) {\n      return this.loader.resources[jsonFileName].data;\n    } else {\n      throw new Error(`${jsonFileName} does not appear to be a JSON data file`);\n    }\n  }\n  xml(xmlFileName) {\n    if (this.loader.resources[xmlFileName].data) {\n      return this.loader.resources[xmlFileName].data;\n    } else {\n      throw new Error(`${xmlFileName} does not appear to be a XML data file`);\n    }\n  }\n  sound(soundFileName) {\n    if (this.soundObjects[soundFileName]) {\n      return this.soundObjects[soundFileName];\n    } else {\n      throw new Error(`${soundFileName} does not appear to be a sound object`);\n    }\n  }\n\n}\n"]}